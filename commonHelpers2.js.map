{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const KEY = \"feedback-form-state\";\n\nconst form = document.querySelector('.feedback-form');\nform.addEventListener(\"input\", inputListenFunc);\n\n/*const mailInput = form.elements.email;\nmailInput.setAttribute('required', true);*/\n\nfunction inputListenFunc(event) {\n    const email = form.elements.email.value.trim();\n    const message = form.elements.message.value.trim();\n\n    const userData = {\n        email: email,\n        message: message,\n    }\n\nsaveToLS(KEY, userData);\n}\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key = 'mustbeakey') {\n  const gotKey = localStorage.getItem(key);\n    \n    try {\n      const result = JSON.parse(gotKey) || {};\n      return result || {};\n    } catch {\n      return gotKey;\n    }\n  }\n  \nform.addEventListener(\"submit\", sendData);\n\nfunction sendData(event) {\n  event.preventDefault();\n  \n  if (form.elements.email.value !== \"\" && form.elements.message.value !== \"\") {\n    const userData = loadFromLS(KEY);\n    console.log('User Data:', userData);\n    localStorage.removeItem(KEY);\n    form.reset();\n  } else {\n    console.log(\"All fields must be filled!\");\n  }\n    \n}\n\nfunction inputData() {\n    const gotData = loadFromLS(KEY) || \"\";\n    form.elements.email.value = gotData.email || \"\";\n  form.elements.message.value = gotData.message || \"\";\n  console.log('Data loaded to form:', gotData);\n    \n}\n\ninputData();"],"names":["KEY","form","inputListenFunc","event","email","message","saveToLS","key","value","jsonData","loadFromLS","gotKey","sendData","userData","inputData","gotData"],"mappings":"wFAAA,MAAMA,EAAM,sBAENC,EAAO,SAAS,cAAc,gBAAgB,EACpDA,EAAK,iBAAiB,QAASC,CAAe,EAK9C,SAASA,EAAgBC,EAAO,CAC5B,MAAMC,EAAQH,EAAK,SAAS,MAAM,MAAM,OAClCI,EAAUJ,EAAK,SAAS,QAAQ,MAAM,OAOhDK,EAASN,EALY,CACb,MAAOI,EACP,QAASC,CACZ,CAEiB,CACtB,CAEA,SAASC,EAASC,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASC,EAAWH,EAAM,aAAc,CACtC,MAAMI,EAAS,aAAa,QAAQJ,CAAG,EAErC,GAAI,CAEF,OADe,KAAK,MAAMI,CAAM,GAAK,CAAA,GACpB,CAAA,CACvB,MAAM,CACA,OAAOA,CACR,CACF,CAEHV,EAAK,iBAAiB,SAAUW,CAAQ,EAExC,SAASA,EAAST,EAAO,CAGvB,GAFAA,EAAM,eAAc,EAEhBF,EAAK,SAAS,MAAM,QAAU,IAAMA,EAAK,SAAS,QAAQ,QAAU,GAAI,CAC1E,MAAMY,EAAWH,EAAWV,CAAG,EAC/B,QAAQ,IAAI,aAAca,CAAQ,EAClC,aAAa,WAAWb,CAAG,EAC3BC,EAAK,MAAK,CACd,MACI,QAAQ,IAAI,4BAA4B,CAG5C,CAEA,SAASa,GAAY,CACjB,MAAMC,EAAUL,EAAWV,CAAG,GAAK,GACnCC,EAAK,SAAS,MAAM,MAAQc,EAAQ,OAAS,GAC/Cd,EAAK,SAAS,QAAQ,MAAQc,EAAQ,SAAW,GACjD,QAAQ,IAAI,uBAAwBA,CAAO,CAE7C,CAEAD,EAAW"}